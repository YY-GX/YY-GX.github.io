---
import { formatDate } from '@lib/utils';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags: string[];
  slug: string;
  readingTime: number;
}

const { title, description, date, tags, slug, readingTime } = Astro.props;
---

<a href={`/blog/${slug}`} class="block p-5 rounded-xl bg-[var(--color-card-bg)] border border-[var(--color-border)] card-hover animate-on-scroll">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1 min-w-0">
      <h2 class="font-semibold text-lg hover:text-[var(--color-accent)] transition-colors">{title}</h2>
      <p class="mt-1.5 text-sm text-[var(--color-text-secondary)] line-clamp-2">{description}</p>
      <div class="mt-3 flex flex-wrap items-center gap-3 text-xs text-[var(--color-text-secondary)]">
        <time class="font-mono">{formatDate(date)}</time>
        <span>&middot;</span>
        <span>{readingTime} min read</span>
        {tags.length > 0 && (
          <>
            <span>&middot;</span>
            <div class="flex gap-1.5">
              {tags.slice(0, 3).map(tag => (
                <span class="px-2 py-0.5 rounded-full bg-[var(--color-accent)]/10 text-[var(--color-accent)]">{tag}</span>
              ))}
            </div>
          </>
        )}
      </div>
    </div>
  </div>
</a>
